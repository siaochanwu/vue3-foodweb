(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22691714"],{"11e9":function(t,e,i){var n=i("52a7"),o=i("4630"),s=i("6821"),a=i("6a99"),r=i("69a8"),c=i("c69a"),l=Object.getOwnPropertyDescriptor;e.f=i("9e1e")?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(i){}if(r(t,e))return o(!n.f.call(t,e),t[e])}},"2f21":function(t,e,i){"use strict";var n=i("79e5");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,i){"use strict";var n=i("5ca1"),o=i("d8e8"),s=i("4bf8"),a=i("79e5"),r=[].sort,c=[1,2,3];n(n.P+n.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(s(this)):r.call(s(this),o(t))}})},"8e6e":function(t,e,i){var n=i("5ca1"),o=i("990b"),s=i("6821"),a=i("11e9"),r=i("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,i,n=s(t),c=a.f,l=o(n),u={},d=0;while(l.length>d)i=c(n,e=l[d++]),void 0!==i&&r(u,e,i);return u}})},9093:function(t,e,i){var n=i("ce10"),o=i("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},"990b":function(t,e,i){var n=i("9093"),o=i("2621"),s=i("cb7c"),a=i("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(s(t)),i=o.f;return i?e.concat(i(t)):e}},ade3:function(t,e,i){"use strict";function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"a",(function(){return n}))},f1ae:function(t,e,i){"use strict";var n=i("86cc"),o=i("4630");t.exports=function(t,e,i){e in t?n.f(t,e,o(0,i)):t[e]=i}},fb62:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Menu"},[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[i("div",{staticClass:"load-wrapp"},[i("div",{staticClass:"load-3"},[i("div",{staticClass:"line"}),i("div",{staticClass:"line"}),i("div",{staticClass:"line"})])])]),i("div",{staticClass:"container"},[i("div",{staticClass:"row mt-3 position-relative"},[i("div",{staticClass:"sidebar col-2 mt-5 pt-2"},[i("div",{staticClass:"list-group",staticStyle:{width:"100%"}},t._l(t.categories,(function(e,n){return i("a",{key:n,staticClass:"list-group-item list-group-item-action list-group-item-light",attrs:{href:"#"},on:{click:function(i){return t.getCategory(e.title)}}},[t._v(t._s(e.title)+"\r\n          ")])})),0)]),i("div",{staticClass:"col-10"},[i("div",{staticClass:"dropdown container mb-3"},[i("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v("\r\n            排序依據\r\n          ")]),i("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton1"}},[i("li",[i("button",{staticClass:"dropdown-item",on:{click:t.decending}},[t._v("\r\n                價格 : 由低到高\r\n              ")])]),i("li",[i("button",{staticClass:"dropdown-item",on:{click:t.ascending}},[t._v("\r\n                價格 : 由高到低\r\n              ")])])])]),i("div",{staticClass:"container marketing",attrs:{id:"menu"}},[i("div",{staticClass:"row"},t._l(t.filterProducts,(function(e){return i("div",{key:e.id,staticClass:"col-lg-4 col-md-6 col-sm-12"},[i("div",{staticClass:"card"},[i("div",{staticClass:"card-body"},[i("router-link",{attrs:{to:"/menu/"+e.id}},[i("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}})])],1),i("div",{staticClass:"card-body"},[i("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),i("h5",{staticClass:"card-title"},[i("a",{staticClass:"text-dark fw-bold text-decoration-none",attrs:{href:"#"}},[t._v(t._s(e.title))])]),i("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),i("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price?t._e():i("div",{staticClass:"h5"},[t._v("\r\n                      "+t._s(e.origin_price)+" 元\r\n                    ")]),e.price?i("del",{staticClass:"h6"},[t._v("\r\n                      原價 "+t._s(e.origin_price)+" 元\r\n                    ")]):t._e(),e.price?i("div",{staticClass:"h5"},[t._v("\r\n                      現在只要 "+t._s(e.price)+" 元\r\n                    ")]):t._e()])]),i("div",{staticClass:"card-footer d-flex justify-content-between"},[i("i",{staticClass:"far fa-heart fs-3",class:{none:e.isFollow},on:{click:function(i){return t.follow(e)}}}),i("i",{staticClass:"fas fa-heart fs-3",class:{none:!e.isFollow},on:{click:function(i){return t.unfollow(e)}}}),i("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(i){return t.addtoCart(e)}}},[t.status.loadingItem===e.id?i("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\r\n                    加到購物車\r\n                  ")])])])])})),0)])])])])],1)},o=[],s=(i("8e6e"),i("456d"),i("ade3")),a=(i("55dd"),i("ac6a"),i("2f62"));function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={data:function(){return{products:[],product:{},status:{loadingItem:""},cart:{},carts:JSON.parse(localStorage.getItem("cartData"))||[],coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""},categories:[{name:"all",title:"ALL"},{name:"main",title:"主餐"},{name:"light",title:"輕食"},{name:"sweet",title:"甜點"},{name:"drink",title:"飲品"},{name:"alcohol",title:"酒精"}],select:"ALL",isFollow:!1}},methods:{getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("wendywu007","/products/all");this.$store.dispatch("loading",!0),this.$http.get(e).then((function(e){t.products=e.data.products;var i=JSON.parse(localStorage.getItem("favoriteData"));console.log(i);for(var n=function(e){t.$set(t.products[e],"isFollow",!1),i.forEach((function(i){i.id===t.products[e].id&&(t.products[e].isFollow=!0)}))},o=0;o<t.products.length;o++)n(o);console.log(e),t.$store.dispatch("loading",!1)}))},getProduct:function(t){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("wendywu007","/product/").concat(t);this.status.loadingItem=t,this.$http.get(i).then((function(t){e.product=t.data.product,e.status.loadingItem=""}))},addtoCart:function(t){console.log(this.carts),this.$store.dispatch("addToCart",{data:t,qty:1})},getCart:function(){var t=this;this.$store.dispatch("loading",!0);var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("wendywu007","/cart");this.$http.get(e).then((function(e){console.log(e),t.cart=e.data.data,t.$store.dispatch("loading",!1)}))},removeItem:function(t){var e=this,i="".concat("https://vue-course-api.hexschool.io","/api/").concat("wendywu007","/cart/").concat(t);this.$store.dispatch("loading",!0),this.$http.delete(i).then((function(t){console.log(t),e.getCart(),e.$store.dispatch("loading",!1)}))},follow:function(t){this.$store.dispatch("addToFavorite",t),t.isFollow=!0},unfollow:function(t){this.$store.dispatch("removeFavorite",t),t.isFollow=!1},getParams:function(){this.$route.query.category&&(this.select=this.$route.query.category)},getCategory:function(t){this.select=t,this.$route.query.category&&this.$router.push("/menu")},decending:function(){this.products.sort((function(t,e){return t.price-e.price}))},ascending:function(){this.products.sort((function(t,e){return e.price-t.price}))}},created:function(){this.getProducts(),this.getCart(),this.getParams()},computed:c({filterProducts:function(){var t=this;return this.searchText?this.products.filter((function(e){return-1!==e.title.indexOf(t.searchText)})):"ALL"!==this.select?this.products.filter((function(e){return e.category===t.select})):this.products}},Object(a["b"])(["isLoading","cartData","searchText"]))},u=l,d=i("2877"),f=Object(d["a"])(u,n,o,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-22691714.ec3c34fd.js.map